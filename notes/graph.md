# p.4

## 🗺️ 圖（Graph）的基本介紹

圖是一種用來表示物件之間關係的資料結構。你可以將它想像成一個地圖，上面有城市和連接城市的道路。

### 1. 圖的定義： $G = (V, E)$

圖 $G$ 是由兩個集合組成的：

* **$V$（Vertices 集合）：** 頂點集合。
* **$E$（Edges 集合）：** 邊集合。

### 2. $V$: 頂點集合 (Vertices)

* **定義：** $V$ 是一組頂點（vertices），它們是圖中的基本元素。
* **別稱：** 頂點也被稱為**節點（nodes）**或**點（points）**。
* **在圖中的例子：** 在左側的圖形中，**$V = \{1, 2, 3, 4, 5, 6\}$**。每一個編號的圓圈都是一個頂點。

### 3. $E$: 邊集合 (Edges)

* **定義：** $E$ 是一組邊（edges），它們表示頂點之間的連接關係，是圖中實際存在的邊的集合。
* **數學表示：** $E \subseteq \{\{x, y\} \mid x \in V \text{ and } y \in V \text{ and } x \neq y\}$
    * 這表示每一條邊都是 $V$ 中兩個**不同**頂點的配對 $\{x, y\}$。
* **別稱：** 邊也被稱為**連結（links）**或**線（lines）**。
* **特性 (Unordered Pairs)：** 投影片中特別提到，邊是**無序配對（unordered pairs）**。
    * **無序**的意思是，邊 $\{x, y\}$ 和邊 $\{y, x\}$ 是**同一條**邊。
    * 這種類型的圖我們稱為**無向圖 (Undirected Graph)**。
* **在圖中的例子：** 左側圖形中的邊集合 $E$ 包含：
    * {1,5}, {1,2}
    * {2,3}, {2,5}
    * {3,4}
    * {4,5}, {4,6}

---

## 💡 總結與應用

簡而言之：

* **圖 = 頂點 (物件) + 邊 (關係)**
* 這個投影片展示的是一個**無向圖**，因為邊是無序的。

圖在電腦科學中應用非常廣泛，例如：

* **社交網路：** 頂點是人，邊是朋友關係。
* **地圖和導航：** 頂點是地點，邊是道路。
* **網際網路：** 頂點是電腦，邊是網路連線。

## 補充

### 💡 額外知識點： 真子集 (Proper Subset)

* **符號：** $\subset$ 或 $\subsetneq$
* **意義：** $A \subset B$ 表示 $A$ 是 $B$ 的子集，**並且** $A$ 不等於 $B$（即 $B$ 中至少有一個元素不在 $A$ 中）。
* **區別：**
    * $A \subseteq A$ 成立 (自己是自己的子集)。
    * $A \subset A$ 不成立 (除非 $A$ 是空集)。

---

# p.14 Isomorphism / Isomorphic

## 🔄 同構性 (Isomorphism) 的核心概念

### 1\. 什麼是圖的同構？

兩個圖 $G_1 = (V_1, E_1)$ 和 $G_2 = (V_2, E_2)$ 如果滿足**同構**的條件，就表示它們**本質上是同一個圖**，只不過它們的**繪製方式、頂點的標籤（名稱）或位置不同**而已。

你可以將「同構」想像成圖的**變形**：

  * 如果我可以在**不剪斷或黏合任何邊**的情況下，只透過移動、旋轉或拉伸頂點和邊，將圖 $G_1$ 變成圖 $G_2$，那麼這兩個圖就是同構的。

### 2\. 同構的嚴格數學定義

要判斷兩個圖 $G_1$ 和 $G_2$ 是否同構，需要找到一個**一對一 (one-to-one)** 且**映成 (onto)** 的函數 $f$，將 $G_1$ 的頂點集合 $V_1$ 映射到 $G_2$ 的頂點集合 $V_2$ ($f: V_1 \to V_2$)，並且要滿足以下條件：

* 對於 $G_1$ 中的任意兩個頂點 $u$ 和 $v$，如果它們之間有邊相連，那麼它們在 $G_2$ 中對應的頂點 $f(u)$ 和 $f(v)$ **之間也必須有邊相連**，反之亦然。

**簡單來說：** 頂點之間的連接關係必須完全保留。

-----

## 🖼️ 簡報圖片的說明 (同構體解釋)

| 圖形 | 描述 | 同構性解釋 |
| :---: | :--- | :--- |
| **Original** | 一個有五個頂點的圖形，包含一個孤立的頂點。 | 作為基準圖。 |
| **五個變體** | 每個變體雖然看起來位置和角度不同，但它們都：<br>1. 總共有 **5 個** 頂點。<br>2. 有 **4 條** 邊。 | 由於它們的 **頂點數**、**邊數** 和 **頂點之間的連接關係** 完全相同，只是頂點的繪製位置變了，所以它們彼此之間都是**同構的**。 |

### 💡 總結投影片想表達的：

圖的同構性告訴我們：在資料結構中，**一個圖的結構和關係**比它的**外觀畫法**或**頂點的標籤**更重要。如果兩個圖的結構關係一樣，它們在圖論和電腦科學的演算法中會被視為是等價的。

-----

# p.15 Classification

## 一、先知道：Graph 在幹嘛？

**Graph = 用來表示「關係」的資料結構**

* **Node (Vertex)**：點 → 人、城市、地點
* **Edge**：線 → 關係、道路、連結

📌 重點：

* Graph 不在存資料本身，而是在存「誰跟誰有關係」

## 二、這一頁在教的「8 種 Graph 分類」

### 1️⃣ Undirected Graph（無向圖）

**Edges 沒有方向**

👥 例子：朋友關係

* A 跟 B 是朋友
  → B 也一定是 A 的朋友

```
A —— B
```

📌 特徵

* 邊是雙向的
* 常用在「對等關係」

### 2️⃣ Directed Graph（有向圖 / Digraph）

**Edges 有方向**

📱 例子：Instagram 追蹤

* A 追蹤 B
* ❌ 不代表 B 追蹤 A

```
A → B
```

📌 特徵

* 邊有箭頭
* 常用在「非對等關係」

### 3️⃣ Weighted Graph（加權圖）

**每條邊都有「成本 / 權重」**

🗺️ 例子：Google Maps

* 城市 A → 城市 B
* 距離 5 公里 / 10 分鐘

```
A --(5km)--> B
```

📌 用途

* 找最短路徑（之後會學 Dijkstra）

### 4️⃣ Unweighted Graph（無權重圖）

**所有邊都一樣重要**

🎲 例子：桌遊地圖

* 走一步 = 一次移動
* 不管遠近，都是「1 步」

📌 用途

* BFS（最少步數問題）

### 5️⃣ Cyclic Graph（有環圖）

**圖中存在「繞一圈回到原點」的路**

🏙️ 例子：城市環狀道路

```
A → B → C → A
```

📌 重點

* 可以「走一圈回來」
* 容易產生「無限循環」

### 6️⃣ Acyclic Graph（無環圖）

**沒有任何環**

👨‍👩‍👧 例子：家族樹

* 父母 → 子女
* 不可能繞回祖先

📌 特殊類型

* **Tree = 一種 Acyclic Graph**

### 7️⃣ Connected Graph（連通圖）

**任兩個節點之間都有路可以走**

🛣️ 例子：有橋的道路網

📌 重點

* 從任何地方都走得到其他地方
* 常出現在「是否能全部走訪」問題

### 8️⃣ Disconnected Graph（非連通圖）

**有些節點彼此完全到不了**

🏝️ 例子：沒有橋的島嶼

```
A —— B      C —— D
```

📌 重點

* 圖被分成好幾塊
* BFS / DFS 可能一次只能走一部分

---

## 三、為什麼要學這些分類？（考試 & 實作重點）

老師其實是在教你三件事：

### ✅ 1. 「我要用哪一種 Graph 來建模？」

* 社群 → Directed / Undirected
* 地圖 → Weighted
* 家族 → Acyclic

### ✅ 2. 「我該用哪個演算法？」

| 圖的性質 | 常用演算法    |
| ---- | -------- |
| 無權重  | BFS      |
| 有權重  | Dijkstra |
| 有環   | 要注意無限循環  |
| 無環   | 拓撲排序     |

### ✅ 3. 考試最愛問的觀念題

* Tree 一定是 acyclic 嗎？✅
* Directed graph 一定有 cycle 嗎？❌
* Connected graph 一定只有一條路？❌

## 四、一句話總結（考前救命版）

* **這一頁是在教：Graph 可以用不同「性質」來描述現實世界，而不同性質會影響你「怎麼走圖、用什麼演算法」。**

---

## 補充 Unweighted Graph 與 BFS

## 一句話先記住（考試版）

* **在 Unweighted Graph 中，BFS 找到的一定是「最少邊數（最短路徑）」**

這就是它們會被綁在一起教的原因。

---

## 一、什麼是 Unweighted Graph？

**每條邊都一樣重要（沒有距離、時間、費用差別）**

📌 換句話說：

* 走一條邊 = 花費 1 單位
* 不管邊長怎樣，都算 **1 步**

---

## 二、BFS 在做什麼？

**BFS（Breadth-First Search）= 一層一層往外擴**

想像你丟石頭進水裡 🌊：

* 第 0 層：起點
* 第 1 層：走 1 條邊能到的點
* 第 2 層：走 2 條邊能到的點
* 第 3 層：走 3 條邊能到的點

📌 BFS 是用 **Queue（佇列）**，保證「先到的層先處理」。

---

## 三、為什麼 BFS 在無權重圖一定是最短路？

### 🎯 關鍵原因：

* **BFS 第一次走到某個節點時，用的邊數一定最少**

因為：

1. 所有邊花費都一樣（都是 1）
2. BFS 是「先走 1 步，再走 2 步，再走 3 步」
3. 所以你不可能用 3 步先到，再用 2 步後到

---

## 四、用超直覺例子說明

### 📍 地圖（無權重）

```
A -- B -- D
 \        /
  \-- C --
```

從 A 出發：

* A → B → D（2 步）
* A → C → D（2 步）

### BFS 的走法：

* 第 0 層：A
* 第 1 層：B, C
* 第 2 層：D

👉 **第一次到 D = 2 步（最少）**

---

## 五、那 DFS 為什麼不行？

DFS（Depth-First Search）會：

```
A → B → D （先走很深）
```

如果有另一條更短路：

```
A → C → D
```

❌ DFS 不保證先找到短的
❌ 它只保證「先走到底」

---

## 六、為什麼「有權重」就不能用 BFS？

看這個例子：

```
A --(100)--> B
A --(1)--> C --(1)--> B
```

BFS 只看「邊數」：

* A → B（1 條邊）← BFS 會選這條

但實際最短距離是：

* A → C → B（總成本 2）

👉 所以 **有權重 → 要用 Dijkstra**

---

## 七、考試超常出的一句話（請背）

* **BFS 適用於 Unweighted Graph，因為它能保證找到最少邊數的最短路徑。**
* (BFS是一種查詢最短路徑的方法，當題目給一個Unweighted Graph的圖，我們可以用BFS來找到最少邊數的最短路徑)
---

## 八、小總結表

| 圖類型    | 找最短路用        |
| ------ | ------------ |
| 無權重圖   | ✅ BFS        |
| 有權重（正） | Dijkstra     |
| 有負權重   | Bellman-Ford |

---

# p.19 - 23

## 一、但 Adjacency Matrix / List 存的是「直接邊」

### 👉 Adjacency Matrix / List 只記：

* **「有沒有『一條邊』直接相連」**

❌ 不記：

* 走不走得到
* 中間經過誰
* 間接路徑

## 二、用你的問題來對照

### 問題：

* 為什麼 `matrix[0][3] = 0` ？

### 答案：

因為 **沒有一條「直接」的邊：**

```
0 → 3   ❌（不存在）
```

雖然有：

```
0 → 2 → 3   ✔️（兩條邊，間接）
```

但 **Adjacency Matrix 不會因為「可以間接走到」就標 1**

## 三、用一句話區分（考試超重要）

* **Adjacency = 是否「相鄰（直接）」
* Path = 是否「走得到（可達）」* 

## 四、表示「走得到」

那就不是 Adjacency Matrix 了，而是：

### ✅ Reachability(可達性) / Transitive Closure

例如用：

* Floyd–Warshall
* 重複 BFS / DFS

最後得到的是：

|       | 0 | 1 | 2 | 3 |
| ----- | - | - | - | - |
| **0** | 1 | 0 | 1 | 1 |
| **1** | 1 | 0 | 1 | 1 |
| **2** | 1 | 0 | 0 | 1 |
| **3** | 1 | 0 | 1 | 0 |

（這張表才是在說「走不走得到」）

### 正確觀念是：

* **只有「直接邊」才算 adjacency**

